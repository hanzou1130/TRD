<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 500">
    <defs>
        <style>
            .box { fill: white; stroke: #334155; stroke-width: 2; }
            .text { font-family: 'Meiryo', sans-serif; font-size: 14px; fill: #1e293b; }
            .arrow { fill: none; stroke: #334155; stroke-width: 2; marker-end: url(#arrowhead); }
            .terminal { rx: 20; }
        </style>
        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
            <polygon points="0 0, 10 3, 0 6" fill="#334155" />
        </marker>
    </defs>

    <!-- Start Terminal -->
    <rect class="box terminal" x="150" y="20" width="100" height="40" />
    <text class="text" x="200" y="45" text-anchor="middle">開始</text>

    <!-- Arrow -->
    <path class="arrow" d="M 200 60 L 200 90" />

    <!-- Step 1 -->
    <rect class="box" x="75" y="90" width="250" height="50" />
    <text class="text" x="200" y="115" text-anchor="middle">1. タイマ停止</text>
    <text class="text" x="200" y="132" text-anchor="middle" font-size="12">(TT0 = 1)</text>

    <!-- Arrow -->
    <path class="arrow" d="M 200 140 L 200 170" />

    <!-- Step 2 -->
    <rect class="box" x="75" y="170" width="250" height="50" />
    <text class="text" x="200" y="195" text-anchor="middle">2. モード設定</text>
    <text class="text" x="200" y="212" text-anchor="middle" font-size="12">(CMOR0 = 0x0000)</text>

    <!-- Arrow -->
    <path class="arrow" d="M 200 220 L 200 250" />

    <!-- Note -->
    <rect class="box" x="50" y="250" width="300" height="50" fill="#f1f5f9" />
    <text class="text" x="200" y="275" text-anchor="middle" font-size="12">備考: CKS=00(CK0),</text>
    <text class="text" x="200" y="292" text-anchor="middle" font-size="12">MD0=0(Interval)</text>

    <!-- Arrow -->
    <path class="arrow" d="M 200 300 L 200 330" />

    <!-- Step 3 -->
    <rect class="box" x="75" y="330" width="250" height="40" />
    <text class="text" x="200" y="355" text-anchor="middle">3. カウント値計算</text>

    <!-- Arrow -->
    <path class="arrow" d="M 200 370 L 200 400" />

    <!-- Step 4 -->
    <rect class="box" x="50" y="400" width="300" height="50" />
    <text class="text" x="200" y="425" text-anchor="middle">4. カウント値設定</text>
    <text class="text" x="200" y="442" text-anchor="middle" font-size="12">(CDR0 = counts)</text>

    <!-- Arrow -->
    <path class="arrow" d="M 200 450 L 200 480" />

    <!-- End Terminal -->
    <rect class="box terminal" x="150" y="480" width="100" height="40" />
    <text class="text" x="200" y="505" text-anchor="middle">終了</text>
</svg>
